{% extends 'base.html' %}
{% block content %}
<div style="max-width:800px;margin:60px auto;padding:30px;background:#fff;border-radius:8px;border:1px solid #eee;">
  <h2>Internal Server Error</h2>
  <p>Sorry â€” something went wrong on the server. The error has been logged and we are investigating.</p>
  {% if error %}
  <details style="white-space:pre-wrap;background:#f9f9f9;padding:10px;border-radius:4px;margin-top:10px;">
    <summary>Show error details (for debugging)</summary>
    {{ error }}
  </details>
  {% endif %}
  {% if show_last_err_instructions %}
  <div style="margin-top:10px;font-size:12px;color:#666;">
    Admins: If you are an authorized operator, you can fetch the full persisted traceback from the server's temporary file using the secure endpoint <code>/__last_error</code> with the environment token (see deployment docs).
    Example: <code>curl -H "X-ERROR-TOKEN: &lt;token&gt;" https://your-site/__last_error</code>
  </div>
  {% endif %}
</div>
{% endblock %}
