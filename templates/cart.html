{% extends 'base.html' %}
{% block content %}
<div class="container">
  <h2>ğŸ›’ Shopping Cart</h2>
  
  {% if items %}
  <form action="/cart/update" method="post">
    <div class="cart-info">
      <p>ğŸ“¦ You have <strong>{{ items|length }}</strong> item{{ "s" if items|length != 1 else "" }} in your cart</p>
    </div>
    
    <table class="table">
      <thead>
        <tr>
          <th>Product</th>
          <th style="text-align: right;">Price</th>
          <th style="text-align: center;">Quantity</th>
          <th style="text-align: right;">Subtotal</th>
        </tr>
      </thead>
      <tbody>
        {% for it in items %}
        <tr>
          <td><strong>{{ it.product.title }}</strong></td>
          <td style="text-align: right;">{{ it.product.price_ghc|money }}</td>
          <td style="text-align: center;">
            <input id="qty_{{ it.product.id }}" type="number" name="qty_{{ it.product.id }}" value="{{ it.qty }}" min="0" style="width: 60px; text-align: center;" />
          </td>
          <td style="text-align: right;"><strong>{{ it.subtotal|money }}</strong></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    
    <div class="cart-summary">
      <div class="summary-row total">
        <span>Total Amount:</span>
        <span>{{ total|money }}</span>
      </div>
    </div>
    
    <div style="display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;">
      <button class="btn btn-primary" type="submit">ğŸ’¾ Update Cart</button>
      <a class="btn btn-success" href="/checkout">âœ“ Proceed to Checkout</a>
      <a class="btn btn-outline" href="/">â† Continue Shopping</a>
      <a class="btn btn-danger" href="/cart/clear" onclick="return confirm('Are you sure?')">ğŸ—‘ï¸ Clear Cart</a>
    </div>
  </form>
  {% else %}
  <div class="cart-info" style="text-align: center; padding: 3rem 1rem;">
    <p style="font-size: 1.2rem; color: #666;">ğŸ›’ Your cart is empty</p>
    <a class="btn btn-primary" href="/" style="margin-top: 1rem;">â† Start Shopping</a>
  </div>
  {% endif %}
</div>
{% endblock %}